<!-- This file contains the HTML structure and JavaScript for displaying key metrics.
     It includes a table to show metrics such as total profit and amount of stock, and a script to fetch and display these metrics. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Key Metrics</title>
    <!-- Link to common CSS styles -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/common.css') }}">
</head>
<body>
<table class="metrics-table">
    <thead>
    <tr>
        <th>Metric</th>
        <th>Value</th>
    </tr>
    </thead>
    <tbody id="metrics-body">
    <tr>
        <td>Total Profit</td>
        <td id="total-profit">$0</td>
    </tr>
    <tr>
        <td>Amount of Stock</td>
        <td id="amount-of-stock">0</td>
    </tr>
    </tbody>
</table>
<script>
    // Fetch and display metrics data when the document is fully loaded
    document.addEventListener('DOMContentLoaded', function () {
        fetch('/api/metrics')
            .then(response => response.json())
            .then(data => {
                document.getElementById('total-profit').textContent = `Â£${data.total_profit}`;
                document.getElementById('amount-of-stock').textContent = data.amount_of_stock;
            })
            .catch(error => console.error('Error fetching metrics:', error));
    });
</script>
</body>
</html>